{"version":3,"sources":["App.js","index.js"],"names":["App","props","getImage","a","image","document","getElementById","value","console","log","setState","state","user","bridge","send","then","this","activePanel","id","status","before","size","src","photo_100","first_name","header","mode","weight","type","onClick","style","textAlign","referrerpolicy","alt","React","Component","ReactDOM","render"],"mappings":"uTAgGeA,G,yDA5Ed,WAAYC,GAAQ,IAAD,8BAClB,cAAMA,IAaPC,SAdmB,sBAcR,4BAAAC,EAAA,sDACJC,EAAQC,SAASC,eAAe,OAAOC,MAE7CC,QAAQC,IAAI,CAAEL,UAEVA,GACH,EAAKM,SAAS,CAAEN,UANP,2CAXV,EAAKO,MAAQ,CACZC,KAAM,MAJW,E,gEAQE,IAAD,OACnBC,IAAOC,KAAK,sBAAuB,IAAIC,MAAK,SAACH,GAC5C,EAAKF,SAAS,CAAEE,c,+BAcR,IAAD,EACgBI,KAAKL,MAArBC,EADA,EACAA,KAAMR,EADN,EACMA,MAEd,OACC,kBAAC,IAAD,CAAMa,YAAY,QACjB,kBAAC,IAAD,CAAOC,GAAG,QACT,kBAAC,IAAD,KACEN,EACA,kBAAC,IAAD,CACCO,OAAO,wBACPC,OAAQ,kBAAC,IAAD,CAAQC,KAAM,GAAIC,IAAKV,EAAKW,aAEnCX,EAAKY,YAGP,yBAIF,kBAAC,IAAD,CAAOC,OAAQ,kBAAC,IAAD,CAAQC,KAAK,aAAb,+CACd,kBAAC,IAAD,okDAMA,kBAAC,IAAD,yTACyD,IACxD,kBAAC,IAAD,CAAMC,OAAO,YAAb,kCAFD,4QAMA,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAOC,KAAK,OAAOV,GAAG,QAEtB,kBAAC,IAAD,CAAQG,KAAK,KAAKQ,QAASb,KAAKd,UAAhC,6DAKEE,GACF,kBAAC,IAAD,CAAK0B,MAAO,CAAEC,UAAW,WACxB,yBAAKC,eAAe,cAAcV,IAAKlB,EAAO6B,IAAI,wB,GAnExCC,IAAMC,YCZxBtB,IAAOC,KAAK,eAAgB,IAE5BsB,IAASC,OAAO,kBAAC,EAAD,MAAShC,SAASC,eAAe,W","file":"static/js/main.bc2c7201.chunk.js","sourcesContent":["import React from 'react';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport {\r\n\tAvatar,\r\n\tButton,\r\n\tDiv,\r\n\tFormLayout,\r\n\tGroup,\r\n\tHeader,\r\n\tInput,\r\n\tPanel,\r\n\tPanelHeader,\r\n\tPanelHeaderContent,\r\n\tText,\r\n\tView,\r\n} from '@vkontakte/vkui';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nclass App extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tuser: null,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tbridge.send('VKWebAppGetUserInfo', {}).then((user) => {\r\n\t\t\tthis.setState({ user });\r\n\t\t});\r\n\t}\r\n\r\n\tgetImage = async () => {\r\n\t\tconst image = document.getElementById('url').value;\r\n\r\n\t\tconsole.log({ image });\r\n\r\n\t\tif (image) {\r\n\t\t\tthis.setState({ image });\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { user, image } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<View activePanel=\"main\">\r\n\t\t\t\t<Panel id=\"main\">\r\n\t\t\t\t\t<PanelHeader>\r\n\t\t\t\t\t\t{user ? (\r\n\t\t\t\t\t\t\t<PanelHeaderContent\r\n\t\t\t\t\t\t\t\tstatus=\"VK Apps Image Example\"\r\n\t\t\t\t\t\t\t\tbefore={<Avatar size={36} src={user.photo_100} />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{user.first_name}\r\n\t\t\t\t\t\t\t</PanelHeaderContent>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t'VK Apps Image Example'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</PanelHeader>\r\n\r\n\t\t\t\t\t<Group header={<Header mode=\"secondary\">Задание</Header>}>\r\n\t\t\t\t\t\t<Div>\r\n\t\t\t\t\t\t\tУ нас есть мини-приложение, которое имеет возможность загружать изображения по внешней\r\n\t\t\t\t\t\t\tссылке. Увы, в приложении допущена ошибка, из-за чего удаленный сервер получает параметры\r\n\t\t\t\t\t\t\tзапуска пользователей, которые вставляют ссылку. Нужно объяснить почему так происходит и\r\n\t\t\t\t\t\t\tисправить ситуацию красиво и лаконично.\r\n\t\t\t\t\t\t</Div>\r\n\t\t\t\t\t\t<Div>\r\n\t\t\t\t\t\t\tДля облегчения тестирования можно использовать картинку{' '}\r\n\t\t\t\t\t\t\t<Text weight=\"semibold\">https://service.pavel.im/image</Text> (good code — все круто, bad\r\n\t\t\t\t\t\t\tcode — сервер получил параметры запуска)\r\n\t\t\t\t\t\t</Div>\r\n\r\n\t\t\t\t\t\t<FormLayout>\r\n\t\t\t\t\t\t\t<Input type=\"text\" id=\"url\" />\r\n\r\n\t\t\t\t\t\t\t<Button size=\"xl\" onClick={this.getImage}>\r\n\t\t\t\t\t\t\t\tЗагрузить\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</FormLayout>\r\n\r\n\t\t\t\t\t\t{!!image && (\r\n\t\t\t\t\t\t\t<Div style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t<img referrerpolicy=\"no-referrer\" src={image} alt=\"remote file\" />\r\n\t\t\t\t\t\t\t</Div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Group>\r\n\t\t\t\t</Panel>\r\n\t\t\t</View>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import 'core-js/es6/map';\r\nimport 'core-js/es6/set';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport App from './App';\r\n\r\nbridge.send('VKWebAppInit', {});\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}